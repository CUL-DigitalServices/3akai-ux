<!-- CSS -->
<link rel="stylesheet" type="text/css" href="css/adminlogin.css" />

<div id="adminlogin-container" class="clearfix well">
    <h2 class="text-center">__MSG__SIGN_IN_TO_THE_OAE_ADMIN_PANEL__</h2>
    <div id="adminlogin-authentication-container" class="col-xs-12"><!-- --></div>
</div>

<div id="adminlogin-external-authentication-template"><!--
    {var hasLocalAuth = enabledStrategies['local'] || enabledStrategies['ldap']}
    {var hasExternalAuth = enabledStrategies['cas'] || enabledStrategies['facebook'] || enabledStrategies['google'] ||
                           enabledStrategies['googleApps'] || enabledStrategies['shibboleth'] || enabledStrategies['twitter']}

    {var hasSingleInstitutionalAuth = _.keys(enabledStrategies).length === 1 && _.contains(['cas', 'googleApps', 'shibboleth'], _.keys(enabledStrategies)[0])}

    {macro externalAuth(id, strategy, title, icon)}
        <li>
            <form action="${strategy.url}" method="POST">
                <div class="form-group">
                    <input type="hidden" name="redirectUrl" value="${redirectUrl|encodeForHTMLAttribute}" />
                    <button type="submit" class="btn btn-external-auth btn-${id}">
                        {if icon}
                            <i class="icon icon-${icon}"></i>
                        {/if}
                        {if strategy.name}
                            {var strategyName = strategy.name}
                            __MSG__SIGN_IN_WITH_STRATEGY__
                        {else}
                            ${title}
                        {/if}
                    </button>
                </div>
            </form>
        </li>
    {/macro}

    {if hasExternalAuth && !currentContext.isGlobalAdminServer && !currentContext.isTenantOnGlobalAdminServer}
        <div class="row">
            <div id="adminlogin-signin-external">
                <ul class="nav">
                    {if enabledStrategies['twitter']}
                        ${externalAuth('twitter', enabledStrategies['twitter'], '__MSG__SIGN_IN_WITH_TWITTER__', 'twitter')}
                    {/if}
                    {if enabledStrategies['facebook']}
                        ${externalAuth('facebook', enabledStrategies['facebook'], '__MSG__SIGN_IN_WITH_FACEBOOK__', 'facebook')}
                    {/if}
                    {if enabledStrategies['google'] || enabledStrategies['googleApps']}
                        ${externalAuth('google', enabledStrategies['google'] || enabledStrategies['googleApps'], '__MSG__SIGN_IN_WITH_GOOGLE__', 'google-plus')}
                    {/if}
                    {if enabledStrategies['cas']}
                        ${externalAuth('cas', enabledStrategies['cas'])}
                    {/if}
                    {if enabledStrategies['shibboleth']}
                        ${externalAuth('shibboleth', enabledStrategies['shibboleth'])}
                    {/if}
                </ul>
            </div>
        </div>
    {/if}

    {if hasLocalAuth}
        <div class="row">
            <form id="adminlogin-signin-local-form" class="form-horizontal" role="form">
                <div class="form-group">
                    <label for="adminlogin-signin-local-form-username" class="control-label col-xs-12 col-sm-3">__MSG__USERNAME__</label>
                    <div class="col-xs-12 col-sm-9">
                        <input type="text" id="adminlogin-signin-local-form-username" name="username" class="form-control required" autofocus/>
                    </div>
                </div>
                <div class="form-group">
                    <label for="adminlogin-signin-local-form-password" class="control-label col-xs-12 col-sm-3">__MSG__PASSWORD__</label>
                    <div class="col-xs-12 col-sm-9">
                        <input type="password" id="adminlogin-signin-local-form-password" name="password" class="form-control required"/>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-xs-12">
                        <button type="submit" class="btn btn-primary pull-right">__MSG__SIGN_IN__</button>
                    </div>
                </div>
            </form>
        </div>
    {/if}
--></div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="js/adminlogin.js"></script>
